document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".carousel").forEach(e=>{new bootstrap.Carousel(e,{interval:5e3,ride:"carousel",wrap:!0})});var e=window.location.pathname;!e.endsWith("index.html")&&"/"!==e&&""!==e||document.querySelectorAll(".carousel-item img").forEach(e=>{var t=e.getAttribute("src").replace(/(\.[a-z]+)$/,"-small$1");window.innerWidth<992&&e.setAttribute("src",t)});let n=document.getElementById("loadMoreBtn"),d=document.getElementById("galleryGrid");if(n&&d){let t=()=>{var e=window.innerWidth;return e<=576?2:e<=768?4:6},o=t();if(0===Array.from(d.querySelectorAll(".gallery-item.hidden")).length)return void(n.style.display="none");n.addEventListener("click",function(){var t=Array.from(d.querySelectorAll(".gallery-item.hidden"));for(let e=0;e<3;e++){let e=0;var l,i=[];for(l of t)if(l.classList.contains("hidden")){var a=l.classList.contains("large"),r=l.classList.contains("horizontal"),a=(l.classList.contains("vertical"),a?3:r?2:1);if(e+a>o)break;if(e+=a,i.push(l),e===o)break}i.forEach(e=>{e.classList.remove("hidden")})}0===d.querySelectorAll(".gallery-item.hidden").length&&(n.style.display="none")}),window.addEventListener("resize",function(){var e=t();e!==o&&(o=e)})}let i=document.querySelector("#bookSessionModal");var e=document.querySelector("#bookSessionTrigger"),o=document.querySelector(".close-button");if(i&&e&&o){let t=()=>{i.classList.toggle("show-modal")};e.addEventListener("click",t),o.addEventListener("click",t),window.addEventListener("click",e=>{e.target===i&&t()});{let t={phone:"^(?:(?:\\+44)|(?:0))(?:(?:(?:7(?:[1-4]\\d\\d|5(?:[0-5]\\d|6[0-9]|7[0-3]|74|75|79|80|81|82|83|84|85|86|87|88|89|90|91|92|93|94|95|96|97|98|99)|6(?:[0-6]\\d\\d|7(?:[0-57-9]\\d|6[0-7])|8[0-9]\\d|9[0-9]\\d)|8(?:[014-9]\\d\\d|[23]\\d\\d)|9(?:[04-9]\\d\\d|[123]\\d\\d)))|(?:1(?:[02-9]\\d{1,3}|1\\d{1,3})|2\\d{4}|3\\d{4}|4\\d{4}|5\\d{4}|6\\d{4}|8\\d{4}|9\\d{4}))\\d{6}|(?:(?:1624|28)\\d{6}))$",email:"[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"},l={phone:"Please enter a valid UK mobile phone number (e.g., 07123456789 or +447123456789).",email:"Please enter a valid email address (e.g., name@example.com)."};function a(e){if("tel"===e.type){if(!new RegExp(t.phone).test(e.value))return void e.setCustomValidity(l.phone)}else if("email"===e.type)if(!new RegExp(t.email).test(e.value))return void e.setCustomValidity(l.email);return e.setCustomValidity(""),1}e=document.querySelectorAll('input[type="tel"]'),o=document.querySelectorAll('input[type="email"]'),e.forEach(e=>{e.pattern=t.phone,e.dataset.validationMessage=l.phone}),o.forEach(e=>{e.pattern=t.email,e.dataset.validationMessage=l.email});e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach(function(l){l.querySelectorAll('input[type="tel"], input[type="email"]').forEach(e=>{e.addEventListener("input",function(){a(this),this.checkValidity()?(this.classList.remove("is-invalid"),this.classList.add("is-valid")):(this.classList.remove("is-valid"),this.classList.add("is-invalid"))})}),l.addEventListener("submit",function(e){let t=!0;l.querySelectorAll('input[type="tel"], input[type="email"]').forEach(e=>{a(e)||(t=!1)}),l.checkValidity()&&t?(e.preventDefault(),l.querySelector('[id$="FirstName"]').value,l.querySelector('[id$="LastName"]').value,l.querySelector('[id$="Phone"]').value,l.querySelector('[id$="Email"]').value,l.querySelector('[id$="Package"]')?.value,l.querySelector('[id$="Message"]').value,l.reset(),l.classList.remove("was-validated"),alert("Thank you for your message! We'll contact you soon."),"bookingForm"===l.id&&i.classList.remove("show-modal")):(e.preventDefault(),e.stopPropagation()),l.classList.add("was-validated")},!1)})}let r=document.getElementById("imageLightbox");if(r){let l=r.querySelector(".lightbox-image");var o=r.querySelector(".lightbox-close"),e=r.querySelector(".lightbox-prev"),s=r.querySelector(".lightbox-next");let i=0,a=[];function c(e,t){a=Array.from(document.querySelectorAll(".gallery-item:not(.hidden) img")),i=t,l.src=e.src,l.alt=e.alt,r.classList.add("show"),document.body.style.overflow="hidden"}function u(){r.classList.remove("show"),document.body.style.overflow=""}function m(){i=(i-1+a.length)%a.length;var e=a[i];l.src=e.src,l.alt=e.alt}function y(){i=(i+1)%a.length;var e=a[i];l.src=e.src,l.alt=e.alt}document.querySelectorAll(".gallery-item img").forEach((e,t)=>{e.addEventListener("click",()=>c(e,t))}),o.addEventListener("click",u),e.addEventListener("click",m),s.addEventListener("click",y),document.addEventListener("keydown",e=>{if(r.classList.contains("show"))switch(e.key){case"ArrowLeft":m();break;case"ArrowRight":y();break;case"Escape":u()}}),r.addEventListener("click",e=>{e.target===r&&u()})}}});